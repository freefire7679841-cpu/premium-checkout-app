<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIP Access</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { margin: 0; font-family: 'Outfit', sans-serif; background-color: #050505; color: #ffffff; display: flex; justify-content: center; align-items: center; min-height: 100vh; overflow-x: hidden; }
        .light-bg { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; overflow: hidden; z-index: -1; }
        .glow { position: absolute; border-radius: 50%; filter: blur(60px); animation: float 8s infinite alternate ease-in-out; opacity: 0.5; }
        .glow-1 { width: 300px; height: 300px; background: #6b21a8; top: -100px; left: -100px; }
        .glow-2 { width: 400px; height: 400px; background: #1d4ed8; bottom: -150px; right: -100px; }
        @keyframes float { 0% { transform: translate(0, 0) scale(1); } 100% { transform: translate(50px, 50px) scale(1.2); } }
        
        .card { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(24px); border-radius: 24px; padding: 30px 20px; width: 85%; max-width: 340px; text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.5); }
        
        /* Hide Checkout by default */
        #checkout-page { display: none; }
        
        .qr-frame { width: 180px; height: 180px; background: white; margin: 15px auto; border-radius: 12px; padding: 10px; }
        .qr-frame img { width: 100%; height: 100%; }
        
        .facility-list { text-align: left; font-size: 13px; color: #cbd5e1; margin: 15px 0; padding: 0; list-style: none; }
        .facility-list li { margin-bottom: 5px; }

        .btn { position: relative; width: 100%; padding: 15px; border-radius: 14px; border: none; font-size: 15px; font-weight: 800; color: white; cursor: pointer; margin-top: 10px; overflow: hidden; text-transform: uppercase; }
        .btn-pay { background: linear-gradient(45deg, #26a541, #34d399); }
        .btn-permanent { background: linear-gradient(45deg, #d97706, #fbbf24); color: black; margin-bottom: 10px; }
        .btn-weekly { background: linear-gradient(45deg, #2563eb, #3b82f6); }
        
        input[type="file"] { display: none; }
        .upload-label { display: block; background: rgba(255,255,255,0.1); padding: 12px; border: 1px dashed rgba(255,255,255,0.3); border-radius: 10px; margin-top: 10px; cursor: pointer; font-size: 13px; }
    </style>
</head>
<body>
    <div class="light-bg"><div class="glow glow-1"></div><div class="glow glow-2"></div></div>

    <div id="selection-page" class="card">
        <h1>VIP Access</h1>
        <p style="color:#94a3b8; font-size:14px;">Select your premium entry pass</p>
        <button class="btn btn-permanent" onclick="showCheckout('Permanent')">Permanent Pass - â‚¹<span id="price-p">999</span></button>
        <button class="btn btn-weekly" onclick="showCheckout('Weekly')">Weekly Pass - â‚¹<span id="price-w">199</span></button>
    </div>

    <div id="checkout-page" class="card">
        <h2 id="plan-name" style="margin:0;">Checkout</h2>
        <div class="qr-frame">
            <img id="qr-img" src="YOUR_QR_IMAGE_URL" alt="QR Code">
        </div>
        <p style="font-size:12px; margin:5px 0;">UPI ID: <b id="upi-display">loading...</b></p>
        
        <ul class="facility-list" id="facilities"></ul>

        <label class="upload-label" for="ss-upload">ðŸ“¸ Tap to Upload Screenshot</label>
        <input type="file" id="ss-upload" accept="image/*" onchange="handleUpload()">
        
        <button id="final-btn" class="btn btn-pay" style="display:none;" onclick="finish()">Submit Payment</button>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        let selectedPlan = "";

        const urlParams = new URLSearchParams(window.location.search);
        let upi = urlParams.get('upi') || "sayedjinnatrana@naviaxis";
        document.getElementById('upi-display').innerText = upi;
        if(urlParams.get('w')) document.getElementById('price-w').innerText = urlParams.get('w');
        if(urlParams.get('p')) document.getElementById('price-p').innerText = urlParams.get('p');

        function showCheckout(plan) {
            selectedPlan = plan;
            document.getElementById('selection-page').style.display = 'none';
            document.getElementById('checkout-page').style.display = 'block';
            document.getElementById('plan-name').innerText = plan + " Pass";
            
            let fac = document.getElementById('facilities');
            fac.innerHTML = plan === "Weekly" ? 
                "<li>âœ¨ 7 Days Access</li><li>âœ¨ Daily Updates</li>" : 
                "<li>âœ¨ Lifetime Access</li><li>âœ¨ Priority Support</li><li>âœ¨ Future Updates</li>";
        }

        function handleUpload() {
            document.getElementById('final-btn').style.display = 'block';
            document.querySelector('.upload-label').innerText = "âœ… Screenshot Attached";
        }

        function finish() {
            tg.sendData("PAID:" + selectedPlan); // Tells bot payment is done
            tg.close();
        }
    </script>
</body>
</html>
